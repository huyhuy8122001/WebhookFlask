import re
import json
import requests

data_bytes = b'{"mautic.lead_points_change":[{"contact":{"isPublished":true,"dateAdded":"2023-10-17T04:50:01+00:00","dateModified":"2023-10-18T16:09:08+00:00","createdBy":null,"createdByUser":null,"modifiedBy":null,"modifiedByUser":" ","id":335196,"points":5,"color":null,"fields":{"core":{"thiet_bi_dau_cuoi":{"id":"61","label":"Thi\\u1ebft b\\u1ecb \\u0111\\u1ea7u cu\\u1ed1i","alias":"thiet_bi_dau_cuoi","type":"text","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"vai_tro":{"id":"60","label":"Vai tr\\u00f2","alias":"vai_tro","type":"multiselect","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:5:{i:0;a:2:{s:5:\\"label\\";s:16:\\"Ng\\u01b0\\u1eddi quy\\u1ebft\\";s:5:\\"value\\";s:16:\\"Ng\\u01b0\\u1eddi quy\\u1ebft\\";}i:1;a:2:{s:5:\\"label\\";s:30:\\"Ng\\u01b0\\u1eddi quy\\u1ebft &#38; duy\\u1ec7t\\";s:5:\\"value\\";s:30:\\"Ng\\u01b0\\u1eddi quy\\u1ebft &#38; duy\\u1ec7t\\";}i:2;a:2:{s:5:\\"label\\";s:16:\\"Ng\\u01b0\\u1eddi duy\\u1ec7t\\";s:5:\\"value\\";s:16:\\"Ng\\u01b0\\u1eddi duy\\u1ec7t\\";}i:3;a:2:{s:5:\\"label\\";s:13:\\"Ng\\u01b0\\u1eddi x\\u00e9t\\";s:5:\\"value\\";s:13:\\"Ng\\u01b0\\u1eddi x\\u00e9t\\";}i:4;a:2:{s:5:\\"label\\";s:14:\\"Ng\\u01b0\\u1eddi d\\u00f9ng\\";s:5:\\"value\\";s:14:\\"Ng\\u01b0\\u1eddi d\\u00f9ng\\";}}}","default_value":null,"value":null,"normalizedValue":""},"cv1":{"id":"59","label":"CV1","alias":"cv1","type":"url","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"vitriungtuyen":{"id":"58","label":"V\\u1ecb tr\\u00ed \\u1ee9ng tuy\\u1ec3n","alias":"vitriungtuyen","type":"text","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"cv":{"id":"56","label":"CV","alias":"cv","type":"text","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"comment":{"id":"55","label":"Comment","alias":"comment","type":"text","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"full_name":{"id":"53","label":"Full Name","alias":"full_name","type":"text","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"role":{"id":"52","label":"Role","alias":"role","type":"select","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:5:{i:0;a:2:{s:5:\\"label\\";s:22:\\"Individual Contributor\\";s:5:\\"value\\";s:22:\\"Individual Contributor\\";}i:1;a:2:{s:5:\\"label\\";s:7:\\"Manager\\";s:5:\\"value\\";s:7:\\"Manager\\";}i:2;a:2:{s:5:\\"label\\";s:8:\\"Director\\";s:5:\\"value\\";s:8:\\"Director\\";}i:3;a:2:{s:5:\\"label\\";s:9:\\"Executive\\";s:5:\\"value\\";s:9:\\"Executive\\";}i:4;a:2:{s:5:\\"label\\";s:10:\\"Consultant\\";s:5:\\"value\\";s:10:\\"Consultant\\";}}}","default_value":null,"value":null,"normalizedValue":null},"nps__recommend":{"id":"51","label":"NPS - Recommend","alias":"nps__recommend","type":"number","group":"core","object":"lead","is_fixed":"0","properties":"a:2:{s:9:\\"roundmode\\";s:1:\\"3\\";s:5:\\"scale\\";s:0:\\"\\";}","default_value":null,"value":null,"normalizedValue":null},"products":{"id":"50","label":"Products","alias":"products","type":"select","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:5:{i:0;a:2:{s:5:\\"label\\";s:9:\\"CCALL PRO\\";s:5:\\"value\\";s:9:\\"CCALL PRO\\";}i:1;a:2:{s:5:\\"label\\";s:14:\\"CCALL Business\\";s:5:\\"value\\";s:14:\\"CCALL Business\\";}i:2;a:2:{s:5:\\"label\\";s:7:\\"special\\";s:5:\\"value\\";s:7:\\"special\\";}i:3;a:2:{s:5:\\"label\\";s:8:\\"12 thang\\";s:5:\\"value\\";s:8:\\"12 thang\\";}i:4;a:2:{s:5:\\"label\\";s:8:\\"24 thang\\";s:5:\\"value\\";s:8:\\"24 thang\\";}}}","default_value":null,"value":null,"normalizedValue":null},"date_last_active":{"id":"48","label":"Date Last Active","alias":"date_last_active","type":"datetime","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"haspurchased":{"id":"47","label":"hasPurchased","alias":"haspurchased","type":"boolean","group":"core","object":"lead","is_fixed":"0","properties":"a:2:{s:2:\\"no\\";s:2:\\"No\\";s:3:\\"yes\\";s:3:\\"Yes\\";}","default_value":null,"value":null,"normalizedValue":null},"subscription_status":{"id":"46","label":"Subscription Status","alias":"subscription_status","type":"select","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:3:{i:0;a:2:{s:5:\\"label\\";s:3:\\"New\\";s:5:\\"value\\";s:3:\\"New\\";}i:1;a:2:{s:5:\\"label\\";s:8:\\"Existing\\";s:5:\\"value\\";s:8:\\"Existing\\";}i:2;a:2:{s:5:\\"label\\";s:6:\\"Former\\";s:5:\\"value\\";s:6:\\"Former\\";}}}","default_value":null,"value":null,"normalizedValue":null},"prospect_or_customer":{"id":"45","label":"Prospect or Customer","alias":"prospect_or_customer","type":"select","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:2:{i:0;a:2:{s:5:\\"label\\";s:8:\\"Prospect\\";s:5:\\"value\\";s:8:\\"Prospect\\";}i:1;a:2:{s:5:\\"label\\";s:8:\\"Customer\\";s:5:\\"value\\";s:8:\\"Customer\\";}}}","default_value":null,"value":null,"normalizedValue":null},"b2b_or_b2c":{"id":"44","label":"B2B or B2C","alias":"b2b_or_b2c","type":"select","group":"core","object":"lead","is_fixed":"0","properties":"a:1:{s:4:\\"list\\";a:2:{i:0;a:2:{s:5:\\"label\\";s:3:\\"B2B\\";s:5:\\"value\\";s:3:\\"B2B\\";}i:1;a:2:{s:5:\\"label\\";s:3:\\"B2C\\";s:5:\\"value\\";s:3:\\"B2C\\";}}}","default_value":null,"value":null,"normalizedValue":null},"title":{"id":"1","label":"Title","alias":"title","type":"lookup","group":"core","object":"lead","is_fixed":"1","properties":"a:1:{s:4:\\"list\\";a:3:{i:0;s:2:\\"Mr\\";i:1;s:3:\\"Mrs\\";i:2;s:4:\\"Miss\\";}}","default_value":null,"value":null,"normalizedValue":null},"firstname":{"id":"2","label":"First Name","alias":"firstname","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"lastname":{"id":"3","label":"Last Name","alias":"lastname","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"company":{"id":"4","label":"Primary company","alias":"company","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"position":{"id":"5","label":"Position","alias":"position","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"email":{"id":"6","label":"Email","alias":"email","type":"email","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"mobile":{"id":"7","label":"Mobile","alias":"mobile","type":"tel","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"phone":{"id":"8","label":"Phone","alias":"phone","type":"tel","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"points":{"id":"9","label":"Points","alias":"points","type":"number","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":"0","value":5,"normalizedValue":5},"fax":{"id":"10","label":"Fax","alias":"fax","type":"tel","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"address1":{"id":"11","label":"Address Line 1","alias":"address1","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"address2":{"id":"12","label":"Address Line 2","alias":"address2","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"city":{"id":"13","label":"City","alias":"city","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":"Ho Chi Minh City","normalizedValue":"Ho Chi Minh City"},"state":{"id":"14","label":"State","alias":"state","type":"region","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":"Ho Chi Minh","normalizedValue":"Ho Chi Minh"},"zipcode":{"id":"15","label":"Zip Code","alias":"zipcode","type":"text","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"country":{"id":"16","label":"Country","alias":"country","type":"country","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":"Vietnam","normalizedValue":"Vietnam"},"preferred_locale":{"id":"17","label":"Preferred Locale","alias":"preferred_locale","type":"locale","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"timezone":{"id":"18","label":"Preferred Timezone","alias":"timezone","type":"timezone","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":"Asia\\/Krasnoyarsk","normalizedValue":"Asia\\/Krasnoyarsk"},"last_active":{"id":"19","label":"Date Last Active","alias":"last_active","type":"datetime","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":"2023-10-18 16:09:07","normalizedValue":"2023-10-18 16:09:07"},"attribution_date":{"id":"20","label":"Attribution Date","alias":"attribution_date","type":"datetime","group":"core","object":"lead","is_fixed":"1","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"attribution":{"id":"21","label":"Attribution","alias":"attribution","type":"number","group":"core","object":"lead","is_fixed":"1","properties":"a:2:{s:9:\\"roundmode\\";i:4;s:5:\\"scale\\";i:2;}","default_value":null,"value":null,"normalizedValue":null},"website":{"id":"22","label":"Website","alias":"website","type":"url","group":"core","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null}},"social":{"facebook":{"id":"23","label":"Facebook","alias":"facebook","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"foursquare":{"id":"24","label":"Foursquare","alias":"foursquare","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"instagram":{"id":"25","label":"Instagram","alias":"instagram","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"linkedin":{"id":"26","label":"LinkedIn","alias":"linkedin","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"skype":{"id":"27","label":"Skype","alias":"skype","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null},"twitter":{"id":"28","label":"Twitter","alias":"twitter","type":"text","group":"social","object":"lead","is_fixed":"0","properties":"a:0:{}","default_value":null,"value":null,"normalizedValue":null}},"personal":[],"professional":[]},"lastActive":"2023-10-18T16:09:07+00:00","owner":null,"ipAddresses":[{"ipAddress":"2001:ee0:d748:6240:aa90:868d:a4fb:ce4c","id":46517,"ipDetails":{"city":"Ho Chi Minh City","region":"Ho Chi Minh","zipcode":null,"country":"Vietnam","latitude":10.822,"longitude":106.6257,"isp":"","organization":"","timezone":"Asia\\/Ho_Chi_Minh","extra":""}},{"ipAddress":"14.187.126.213","id":46658,"ipDetails":{"city":"Ho Chi Minh City","region":"Ho Chi Minh","zipcode":null,"country":"Vietnam","latitude":10.822,"longitude":106.6257,"isp":"","organization":"","timezone":"Asia\\/Ho_Chi_Minh","extra":""}}],"tags":[],"utmtags":[],"stage":null,"dateIdentified":null,"preferredProfileImage":"gravatar","doNotContact":[],"frequencyRules":[]},"points":{"old_points":5,"new_points":20},"timestamp":"2023-10-18T16:09:08+00:00"}]}'



data_json = json.loads(data_bytes.decode('utf-8'))
contact_id = data_json["mautic.lead_points_change"][0]["contact"]["id"]
points = data_json["mautic.lead_points_change"][0]["points"]["new_points"]
last_active = data_json["mautic.lead_points_change"][0]["contact"]["lastActive"]

print(contact_id, points, last_active)